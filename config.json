{
	"name": "Log Form Save Submit Time",

	"namespace": "BRACE\\logFormSaveSubmitTime",

	"authors": [
		{
			"name": "Jack Ren",
			"email": "jack.ren@mcri.edu.au",
			"institution": "Murdoch Children's Research Institute"
		},
		{
			"name": "Luke Stevens",
			"email": "luke.stevens@mcri.edu.au",
			"institution": "Murdoch Children's Research Institute"
		}
	],

	"description": "This module logs the time when a form is saved or submitted",

	"permissions": [
			"redcap_save_record"
		],
	"project-settings": [
		{
			"name": "Settings for each instrument",
			"key": "instrument_settings",
			"type": "sub_settings",
			"repeatable": true,
			"sub_settings": [
				{
					"name": "Select which instrument to add the logging functionality",
					"key": "logtime_instrument",
					"required": true,
					"type": "form-list"
				},
				{
					"name": "Select which field to log the time. Remember to set the date/time validation for this field",
					"key": "logtime_field",
					"required": true,
					"type": "field-list"
				},				
				{
					"name": "Select the form type to apply the logging",
					"key": "logtime_form",
					"required": true,
					"type": "radio",
					"choices": [
						{
							"name": "Data Entry Form only",
							"value": "logtime_form_dataentry"
						},
						{
							"name": "Survey only",
							"value": "logtime_form_survey"
						},
						{
							"name": "Both of the above",
							"value": "logtime_form_both"
						}
					]
				},
				{
					"name": "Select the trigger to log the time",
					"key": "logtime_cond",
					"required": true,
					"type": "radio",
					"choices": [
						{
							"name": "Form Save",
							"value": "logtime_cond_save"
						},
						{
							"name": "Form Submit/Complete",
							"value": "logtime_cond_submit"
						},
						{
							"name": "Form Save OR Submit/Complete",
							"value": "logtime_cond_any"
						}
					]
				},
				{
					"name": "Select how often to log the time",
					"key": "logtime_freq",
					"required": true,
					"type": "radio",
					"choices": [
						{
							"name": "Only log the time upon the first save/submit (i.e. If the field is empty)",
							"value": "logtime_freq_first"
						},
						{
							"name": "Always log the time for all saves/submits",
							"value": "logtime_freq_all"
						}
					]
				}
			]
		}],
    "compatibility": {
        "redcap-version-min": "8.0.3"
    }
}
